# üè• **–°–∏–º—É–ª—è—Ç–æ—Ä –¥–ª—è –≤—Ä–∞—á–µ–π** (BFU Patient Bot) ü§ñ

> **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç** –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–∞ —Å –ø–∞—Ü–∏–µ–Ω—Ç–æ–º, –ø–µ—Ä–≤–∏—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∫–∞—Ä—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **GigaChat** –∏ **FSM-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (aiogram 3.x)**.

<div align="center">

[![Tests](https://img.shields.io/github/actions/workflow/status/xxxRomb1kxxx/simulator_for_doctors/test.yml?branch=main&label=tests&logo=pytest)](https://github.com/xxxRomb1kxxx/simulator_for_doctors/actions/workflows/test.yml)
[![Coverage](https://codecov.io/gh/xxxRomb1kxxx/simulator_for_doctors/branch/main/graph/badge.svg)](https://codecov.io/gh/xxxRomb1kxxx/simulator_for_doctors)
[![Linting](https://img.shields.io/github/actions/workflow/status/xxxRomb1kxxx/simulator_for_doctors/lint.yml?branch=main&label=linting&logo=flake8)](https://github.com/xxxRomb1kxxx/simulator_for_doctors/actions/workflows/lint.yml)
[![Python](https://img.shields.io/badge/python-3.13+-blue?logo=python)](https://www.python.org/)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![License: MIT](https://img.shields.io/badge/license-MIT-green)](LICENSE)

[![Coverage](https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/xxxRomb1kxxx/coverage.json)](https://codecov.io/gh/xxxRomb1kxxx/simulator_for_doctors)

</div>

---

## üéØ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üßë‚Äç‚öïÔ∏è **5 –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö –∫–µ–π—Å–æ–≤** | –ê–ø–ø–µ–Ω–¥–∏—Ü–∏—Ç, –î–∏–∞–±–µ—Ç, –ê–Ω–µ–º–∏—è, –¢—É–±–µ—Ä–∫—É–ª—ë–∑, –≠–ø–∏–ª–µ–ø—Å–∏—è |
| üí¨ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥** | GigaChat –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–µ—á—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ |
| üìù **–°–±–æ—Ä –∂–∞–ª–æ–±** | –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–∏–º–ø—Ç–æ–º–æ–≤ |
| üìã **–ú–µ–¥–∫–∞—Ä—Ç–∞** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö |
| ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–≥–Ω–æ–∑–∞** | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º (>0.8) |
| üéÆ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | `/–¥–∏–∞–≥–Ω–æ–∑`, `/–∑–∞–≤–µ—Ä—à–∏—Ç—å` –≤—Å–µ–≥–¥–∞ |
| üìä **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ü–æ–∫—Ä—ã—Ç–∏–µ **>65%** (—Ü–µ–ª—å 80%) |
| üöÄ **CI/CD** | –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã, –ª–∏–Ω—Ç–∏–Ω–≥, –¥–µ–ø–ª–æ–π |

---

## üéÆ **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è**

üë®‚Äç‚öïÔ∏è –í—ã: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –Ω–∞ —á—Ç–æ –∂–∞–ª—É–µ—Ç–µ—Å—å?
üë§ –ü–∞—Ü–∏–µ–Ω—Ç: –î–æ–±—Ä—ã–π –¥–µ–Ω—å, –¥–æ–∫—Ç–æ—Ä. –£ –º–µ–Ω—è –±–æ–ª–∏—Ç –∂–∏–≤–æ—Ç, —É–∂–µ 6 —á–∞—Å–æ–≤.

üë®‚Äç‚öïÔ∏è –í—ã: –ì–¥–µ –∏–º–µ–Ω–Ω–æ –±–æ–ª–∏—Ç?
üë§ –ü–∞—Ü–∏–µ–Ω—Ç: –°–Ω–∞—á–∞–ª–∞ –≤–æ–∫—Ä—É–≥ –ø—É–ø–∫–∞, —Ç–µ–ø–µ—Ä—å –≤–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞.

üë®‚Äç‚öïÔ∏è –í—ã: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –µ—Å—Ç—å?
üë§ –ü–∞—Ü–∏–µ–Ω—Ç: –î–∞, 37.5, –∏ —Ç–æ—à–Ω–∏—Ç –Ω–µ–º–Ω–æ–≥–æ.

> **`/–¥–∏–∞–≥–Ω–æ–∑`** ‚Üí —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ ‚úÖ

---

## üõ† **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫**

### **Backend**
üêç Python 3.13+
ü§ñ aiogram 3.x (FSM, —Ä–æ—É—Ç–∏–Ω–≥)
üß† GigaChat API
üîç Pydantic (–≤–∞–ª–∏–¥–∞—Ü–∏—è)

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** 
üß™ Pytest + pytest-asyncio (68+ —Ç–µ—Å—Ç–æ–≤)
üìà pytest-cov (>65% –ø–æ–∫—Ä—ã—Ç–∏–µ)
üé≠ unittest.mock

### **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**
üé® Black
üî§ isort
üîé flake8
üß™ mypy (—Å–∫–æ—Ä–æ)
üõ°Ô∏è bandit

### **CI/CD**
‚ö° GitHub Actions
üìä Codecov
üöÄ –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π VPS

---

## ‚ö° **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**
- Python 3.13+
- GigaChat —Ç–æ–∫–µ–Ω
- Telegram Bot Token

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**
```bash
git clone https://github.com/xxxRomb1kxxx/simulator_for_doctors.git
cd simulator_for_doctors

python -m venv venv
source venv/bin/activate  # Linux/Mac

pip install -r requirements.txt

cp .env.example .env
# GIGA_CREDENTIALS=... BOT_TOKEN=...

python main.py  # üöÄ
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
bash
pip install -r requirements-test.txt
pytest --cov=. --cov-report=html --cov-report=term-missing
68+ —Ç–µ—Å—Ç–æ–≤ ‚Ä¢ –ü–æ–∫—Ä—ã—Ç–∏–µ >65%

test/
‚îú‚îÄ‚îÄ conftest.py           # –§–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ test_diagnosis_checker.py  # –î–∏–∞–≥–Ω–æ–∑—ã (27 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_patient.py      # –ú–æ–¥–µ–ª—å Patient
‚îú‚îÄ‚îÄ test_patient_factory.py  # 5 –±–æ–ª–µ–∑–Ω–µ–π
‚îî‚îÄ‚îÄ test_dialog_handlers.py  # FSM
üîÑ CI/CD Workflow
Workflow	–¢—Ä–∏–≥–≥–µ—Ä	–î–µ–π—Å—Ç–≤–∏—è
Tests	push/PR	Python 3.10-3.13
Coverage	push/PR	Codecov
Lint	push/PR	Black, flake8, bandit
Deps	–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ	Safety check
Deploy	push main	VPS
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
simulator_for_doctors/
‚îú‚îÄ‚îÄ .github/workflows/    # CI/CD
‚îú‚îÄ‚îÄ config/              # Pydantic
‚îú‚îÄ‚îÄ controllers/         # Telegram handlers
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îî‚îÄ‚îÄ states/
‚îú‚îÄ‚îÄ dialog_engine/       # GigaChat
‚îú‚îÄ‚îÄ models/             # Patient, Disease
‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ test/               # 68+ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ main.py             # üöÄ

```
<div align="center"> <b>–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –≤—Ä–∞—á–µ–π</b><br> <sub>xxxRomb1kxxx/simulator_for_doctors</sub> </div> 

**Coverage:** ![Coverage](https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/xxxRomb1kxxx/coverage.json)

